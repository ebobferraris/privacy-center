<!DOCTYPE html>
<html lang="{{ lang | default('it') }}">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% if title %}{{ title }} - {% endif %}{{ 'ui.companyName' | t(lang) }}</title>
  <link rel="preload" href="{{ '/js/translations.js' | url }}" as="script">
  <link rel="preload" href="{{ '/js/main.js' | url }}" as="script">
  <link rel="stylesheet" href="{{ '/css/main.css' | url }}">
  <script src="{{ '/js/translations.js' | url }}"></script>
  <script src="{{ '/js/main.js' | url }}"></script>
</head>
<body>
  <header class="header">
    <div class="container">
      <h1><a href="{{ '/' | url }}">{{ 'ui.companyName' | t(lang) }}</a></h1>
      <div id="language-dropdown" class="language-dropdown">
        <button class="language-button" onclick="toggleLanguageDropdown()">
          <span class="current-lang" data-translate="ui.currentLang">
            {% if lang == 'it' %}ğŸ‡®ğŸ‡¹ IT{% elif lang == 'en' %}ğŸ‡¬ğŸ‡§ EN{% elif lang == 'fr' %}ğŸ‡«ğŸ‡· FR{% elif lang == 'de' %}ğŸ‡©ğŸ‡ª DE{% elif lang == 'sl' %}ğŸ‡¸ğŸ‡® SL{% else %}ğŸ‡®ğŸ‡¹ IT{% endif %}
          </span>
          <span class="dropdown-arrow">â–¼</span>
        </button>
        <div id="language-menu" class="language-menu">
          {% set availableLanguages = ['it', 'en', 'fr', 'de', 'sl'] | orderLanguages %}
          {% for langCode in availableLanguages %}
            <a href="#" class="language-item" onclick="changeLanguage('{{ langCode }}'); return false;">
              {% if langCode == 'it' %}ğŸ‡®ğŸ‡¹{% elif langCode == 'en' %}ğŸ‡¬ğŸ‡§{% elif langCode == 'fr' %}ğŸ‡«ğŸ‡·{% elif langCode == 'de' %}ğŸ‡©ğŸ‡ª{% elif langCode == 'sl' %}ğŸ‡¸ğŸ‡®{% endif %} {{ langCode | getLanguageName }} ({{ langCode | upper }})
            </a>
          {% endfor %}
        </div>
      </div>
    </div>
  </header>

  <main class="main">
    <div class="container">
      {{ content | safe }}
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 {{ 'ui.companyName' | t(lang) }}. {{ 'ui.copyright' | t(lang) }}</p>
    </div>
  </footer>
</body>
</html>
